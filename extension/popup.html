<!DOCTYPE html>
<html>

<head>
  <!-- libraries -->
  <link rel="stylesheet" href="lib/simple_btn.css">
  <link rel="stylesheet" href="lib/bordered_btn.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <!-- dedicated js and css -->
  <link rel="stylesheet" href="popup.css">
  <script src="popup.js"></script>
</head>

<body>
  <header>
    <div class="header">
      <h2 id="tab_counter">Number of tabs opened:</h2>
      <div id="separator"></div>
      <h3 id="carbon_counter">Total Carbon footprint by chrome:</h3>
    </div>
  </header>

  <main>
    <div id="details">
      <div class="row">
        <div class="double-column">
          <h4 class="detail_info power_info" id="curr_power">Current power usage: N/A W
            <i class='help_icon tooltip'>
              <span class="tooltiptext tooltip-bottom">
                How do we calculate the power usage? <br>
                We estimate Chrome's power usage (P) based on two pieces of data from your computer:
                the maximum cpu power (C) and the current cpu usage (X).
                Then we use the following formula to estimate P:
                <br>
                P = (X * C) / (0.412 X + 0.246)
                <br><br>
                The numbers in the formula are derived from the average power consumption percentage of the cpu
                within an idle system and a fully loaded system. The formula comes from the article
                "Power Consumption Breakdown on a Modern Laptop" by Aqeel Mahesri, and V. Vardhan (2005).
              </span>
            </i>
          </h4>
          <h4 class="detail_info power_info" id="total_power">Total power usage: N/A Wh</h4>

        </div>
        <div class="column">
          <div class="right_column">
            <button id="pause_start_btn" class="bttn-bordered bttn-md">Pause</button>
            <button id="stop_start_btn" class="bttn-bordered bttn-md">Stop</button>
          </div>
          <h4 id="monitor_timer">
            <i class='info_icon tooltip'>
             <span class="tooltiptext tooltiptext_narrow tooltip-bottom">
              The number above can be used to set the time you want to monitor
              chrome resource usage. The format is MM:SS. By default it is 00:00,
              which means there is no limit and the monitor would only stop if you click
              the stop button.
            </span>
            </i>
          <text id="timer_text">00:00:00s</text></h4>
        </div>
      </div>

      <div id="power_chart"></div>
      <div class="row">
        <h4 class="detail_info column" id="cpu_info">CPU: 00.00%</h4>
        <h4 class="detail_info column" id="gpu_info">GPU: 00.00%</h4>
        <h4 class="detail_info column" id="mem_info">MEM: 00.00%</h4>
      </div>
    </div>
    <div id="button_layer">
      <button class="bttn-simple bttn-lg bttn-default" id="start_monitor">start monitor</button>
      <br>
      <label class="monitor-options">
        <input type="checkbox" id = "serverCheckbox">
        Send data to server (required to get suggestions).
        <i class='help_icon tooltip'>
          <span class="tooltiptext tooltiptext_medium tooltip-bottom">
            How do we handle your data? <br>
            If you choose to send your data to the server, a brief report will 
            be sent to a secure server hosted on AWS after every monitor session.
            The report includes the data you can see being collected during the 
            monitor session (cpu usage, mem usage, tab count, etc.) and a unique 
            id to identify your data on our server. The id is randomly generated 
            and does not link to your real identity or Google account in any way;
            it will be reset if you reinstall this extension.
          </span>
        </i>
      </label>
      <br>
      <label class="monitor-options">
        <input type="checkbox" id = "loggingCheckbox">
        Generate a log file for this monitoring session.
      </label>
    </div>

    <div id="suggestion" class="row">
      <div class="suggestion_title column">
        <br>
        SUGGESTION
      </div>
      <div class="suggestion_detail triple-column">
        <div class="suggestion_text"></div>
        <div class="suggestion_cover">
          <div class = "line">START MONITOR ONCE</div>
          <div class = "line">TO GET SUGGESTION</div>
        </div>
      </div>
    </div>
  </main>

</body>

</html>